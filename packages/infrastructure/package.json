{
  "name": "@app/infrastructure",
  "version": "1.0.0",
  "license": "UNLICENSED",
  "main": "./dist/index.js",
  "packageManager": "pnpm@9.12.2",
  "private": true,
  "scripts": {
    "_cdktf:bootstrap": "op run --env-file=./softwareng.env -- cdktf",
    "_cdktf:app": "op run --env-file=./app.env -- cdktf",
    "before:app": "jq '. + {\"app\":\"pnpm tsx ./src/app/main.ts\"}' cdktf.base.json > cdktf.json",
    "before:bootstrap": "jq '. + {\"app\":\"pnpm tsx ./src/bootstrap/main.ts\"}' cdktf.base.json > cdktf.json",
    "clean:cdktf": "__cdktf_clean() { if [ -d ./cdktf.out ]; then rm ./cdktf.out/manifest.json || true ; find ./cdktf.out/stacks/\"${1}\" -name \"*.json\" -type f -exec rm {} \\; ; fi; }; __cdktf_clean",
    "clean:ts": "rm -rf ./dist && rm ./tsconfig.tsbuildinfo",
    "compile": "tsc -b",
    "c": "pnpm run clean:ts && pnpm run compile",
    "config:backend:create": "tsx ./scripts/cli.ts config:backend:create --version=$(git rev-parse --short HEAD)",
    "config:frontend:create": "tsx ./scripts/cli.ts config:frontend:create",
    "deploy:app": "pnpm run before:app && BACKEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm -s run config:backend:create) FRONTEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm -s run config:frontend:create) cdktf deploy",
    "deploy:bootstrap": "__cdktf_deploy() { pnpm run before:bootstrap && pnpm run _cdktf:bootstrap deploy --outputs-file ./cdktf.out/stacks/\"$1\"/outputs.json \"$1\"; }; __cdktf_deploy",
    "destroy:bootstrap": "pnpm run before:bootstrap && pnpm run _cdktf:bootstrap destroy",
    "generate-bindings": "cdktf get",
    "plan:frontend:local": "pnpm run clean:cdktf && pnpm run before:app && FRONTEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm run config:frontend:create) cdktf plan",
    "plan:backend:local": "pnpm run clean:cdktf && pnpm run before:app && BACKEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm run config:backend:create) cdktf plan",
    "plan:app": "pnpm run clean:cdktf && pnpm run before:app && BACKEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm -s run config:backend:create) FRONTEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm -s run config:frontend:create) cdktf plan",
    "plan:bootstrap": "pnpm run clean:cdktf && pnpm run before:bootstrap && pnpm run _cdktf:bootstrap plan",
    "synth:app": "pnpm run clean:cdktf && pnpm run before:app && BACKEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm -s run config:backend:create) FRONTEND_INFRASTRUCTURE_JSON_CONFIG=$(pnpm -s run config:frontend:create) cdktf synth",
    "synth:bootstrap": "pnpm run clean:cdktf && pnpm run before:bootstrap && pnpm run _cdktf:bootstrap synth",
    "test:unit": "jest --passWithNoTests"
  },
  "dependencies": {
    "@cdktf/provider-aws": "^19.42.0",
    "cdktf": "^0.20.10",
    "constructs": "^10.4.2",
    "fp-ts": "catalog:",
    "io-ts": "catalog:"
  },
  "devDependencies": {
    "@1password/sdk": "^0.1.5",
    "@actions/core": "^1.11.1",
    "@commander-js/extra-typings": "^13.1.0",
    "@jest/globals": "catalog:jest",
    "@swc/core": "^1.9.2",
    "@swc/jest": "catalog:jest",
    "@tsconfig/node20": "catalog:typescript-node20",
    "@types/jest": "catalog:jest",
    "@types/node": "catalog:typescript-node20",
    "commander": "^12.1.0",
    "jest": "catalog:jest",
    "tsx": "catalog:",
    "typescript": "catalog:"
  }
}
